import "./CartWidget.css";
import { useContext } from "react";
import { CartContext } from "../../../context/cartContext";
import { NavLink } from "react-router-dom";

export default function CartWidget() {
	const { cartItems, getAmountProducts } = useContext(CartContext);

	return (
		<NavLink
			to="/carrito"
			className="cartWidget">
			<svg
				width="24"
				height="24"
				viewBox="0 0 24 24"
				fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<path
					fillRule="evenodd"
					clipRule="evenodd"
					d="M3.04 2.292C2.85222 2.22609 2.64596 2.23748 2.46658 2.32365C2.2872 2.40983 2.1494 2.56373 2.0835 2.7515C2.01759 2.93927 2.02898 3.14554 2.11515 3.32492C2.20132 3.5043 2.35522 3.64209 2.543 3.708L2.804 3.799C3.472 4.034 3.911 4.189 4.234 4.348C4.537 4.497 4.67 4.618 4.758 4.746C4.848 4.878 4.918 5.06 4.958 5.423C4.998 5.803 5 6.298 5 7.038V9.64C5 12.582 5.063 13.552 5.93 14.466C6.796 15.38 8.19 15.38 10.98 15.38H16.282C17.843 15.38 18.624 15.38 19.175 14.93C19.727 14.48 19.885 13.716 20.2 12.188L20.7 9.763C21.047 8.023 21.22 7.154 20.776 6.577C20.332 6 18.816 6 17.131 6H6.492C6.48778 5.75352 6.47343 5.50731 6.449 5.262C6.395 4.765 6.279 4.312 5.997 3.9C5.713 3.484 5.335 3.218 4.894 3.001C4.482 2.799 3.958 2.615 3.342 2.398L3.04 2.292ZM10.24 8.875C10.2068 8.67874 10.0971 8.50369 9.93487 8.38835C9.77265 8.27302 9.57126 8.22685 9.375 8.26C9.17874 8.29315 9.00368 8.40291 8.88835 8.56513C8.77302 8.72735 8.72685 8.92874 8.76 9.125L9.289 12.243C9.32304 12.4383 9.43302 12.6122 9.5949 12.7266C9.75678 12.8411 9.95738 12.8868 10.1529 12.8537C10.3483 12.8207 10.5228 12.7116 10.638 12.5503C10.7533 12.389 10.8 12.1886 10.768 11.993L10.24 8.875ZM15.654 8.261C15.5569 8.24451 15.4575 8.24731 15.3614 8.26924C15.2654 8.29118 15.1746 8.33181 15.0943 8.38883C15.014 8.44585 14.9457 8.51813 14.8933 8.60155C14.8409 8.68496 14.8055 8.77788 14.789 8.875L14.261 11.993C14.244 12.0903 14.2465 12.1901 14.2682 12.2865C14.2899 12.3829 14.3304 12.4741 14.3874 12.5547C14.4445 12.6354 14.5169 12.704 14.6006 12.7567C14.6842 12.8093 14.7774 12.8448 14.8749 12.8613C14.9723 12.8778 15.072 12.8748 15.1683 12.8526C15.2646 12.8304 15.3555 12.7894 15.4359 12.732C15.5163 12.6745 15.5846 12.6017 15.6368 12.5178C15.6889 12.4339 15.724 12.3405 15.74 12.243L16.268 9.125C16.301 8.92902 16.2549 8.72796 16.1398 8.56596C16.0246 8.40396 15.8499 8.29428 15.654 8.261ZM7.5 18C7.89782 18 8.27935 18.158 8.56066 18.4393C8.84196 18.7206 9 19.1022 9 19.5C9 19.8978 8.84196 20.2794 8.56066 20.5607C8.27935 20.842 7.89782 21 7.5 21C7.10217 21 6.72064 20.842 6.43934 20.5607C6.15803 20.2794 6 19.8978 6 19.5C6 19.1022 6.15803 18.7206 6.43934 18.4393C6.72064 18.158 7.10217 18 7.5 18ZM16.5 18C16.8978 18 17.2794 18.158 17.5607 18.4393C17.842 18.7206 18 19.1022 18 19.5C18 19.8978 17.842 20.2794 17.5607 20.5607C17.2794 20.842 16.8978 21 16.5 21C16.1022 21 15.7206 20.842 15.4393 20.5607C15.158 20.2794 15 19.8978 15 19.5C15 19.1022 15.158 18.7206 15.4393 18.4393C15.7206 18.158 16.1022 18 16.5 18Z"
					fill="black"
				/>
			</svg>

			{cartItems.length > 0 && (
				<span className="badge">{getAmountProducts()}</span>
			)}
		</NavLink>
	);
}
